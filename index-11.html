<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Creating a website devoted to oneself has been described as the greatest act of hubris. Welcome aboard!">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>tartley.com (old posts, page 11) | tartley.com</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="rss.xml">
<link rel="canonical" href="https://www.tartley.com/index-11.html">
<link rel="icon" href="welcome.gif" sizes="16x16">
<link rel="prev" href="index-12.html" type="text/html">
<link rel="next" href="index-10.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://www.tartley.com/">

                <span id="blog-title">tartley.com</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>
                </li>
<li>
<a href="rss.xml">RSS feed</a>
                </li>
<li>
<a href="pages/about.html">About</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
    
    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2008/8/11/neogeography/" class="u-url">Neogeography</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/2008/8/11/neogeography/" rel="bookmark">
            <time class="published dt-published" datetime="2008-08-11T16:31:25-05:00" itemprop="datePublished" title="2008-08-11 16:31">2008-08-11 16:31</time></a>
            </p>
                <p class="commentline">            <a href="posts/2008/8/11/neogeography/#disqus_thread" data-disqus-identifier="cache/posts/2008/8/11/neogeography.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p><img alt="" src="files/2008/08/co-to-ca-road-trip-map.png" title="co-to-ca-road-trip-map"></p>
<p>Over the summer I've been keeping a geographic journal of some of our
recent adventures:</p>
<ul>
<li>
<dl>
<dt><a href="http://maps.google.com/maps/ms?ie=UTF8&amp;hl=en&amp;msa=0&amp;msid=114555587615190768594.00044fcb05ec0c0be2012&amp;ll=45.540084,-93.44283&amp;spn=5.809675,14.282227&amp;z=7">The Minnesota project</a></dt>
<dd>our summer in Blooming Prairie</dd>
</dl>
</li>
<li>
<dl>
<dt><a href="http://maps.google.com/maps/ms?ie=UTF8&amp;hl=en&amp;msa=0&amp;msid=114555587615190768594.000453372a3a9329df229&amp;ll=37.431251,-110.786133&amp;spn=13.158173,28.564453&amp;t=h&amp;z=6">CO to CA</a></dt>
<dd>our summer roadtrip</dd>
</dl>
</li>
</ul>
<p>It's an amusing journalling project for me, but as an exercise in
neogeography (the distainful term Geographic Information System pros use
to describe such upstart tools, popular with the great unwashed) I have
to say it's pretty forlorn. The editing tool is thoroughly annoying to
use, and the data model is none existant - you're simply crayoning
one-off symbols on top of the map, with no ability to relate any symbol
to any other, except by manually assigning them the same symbology. The
ability to import KMZ is little consolation if all the resultant data is
so unstructured. No doubt things will get better as GIS and neogeography
borrow each other's best ideas, but for the time being this exercise
left me disappointed.</p>
<p>I seem to recall that the editing tools in Google Earth are a smidgeon
better, but still profoundly lacking. Anyone got any ideas what I should
be using instead for personal 'for amusement' projects like this?</p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2008/8/1/ironpython-at-resolver-systems/" class="u-url">IronPython at Resolver Systems</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/2008/8/1/ironpython-at-resolver-systems/" rel="bookmark">
            <time class="published dt-published" datetime="2008-08-01T01:12:17-05:00" itemprop="datePublished" title="2008-08-01 01:12">2008-08-01 01:12</time></a>
            </p>
                <p class="commentline">            <a href="posts/2008/8/1/ironpython-at-resolver-systems/#disqus_thread" data-disqus-identifier="cache/posts/2008/8/1/ironpython-at-resolver-systems.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p><img alt="Resolver Systems logo" src="files/2008/08/resolversystems-logo-web.png"></p>
<p>I wrote a little blurb about why we at Resolver Systems like Python, and
specifically IronPython. It's up on Pythonology.org's "Python success
Stories" section, and will also propagate to wingware.com and
python.org.</p>
<p><a href="http://pythonology.org/success&amp;story=resolver">http://pythonology.org/success&amp;story=resolver</a></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2008/7/9/writing-cc-on-windows-using-g-under-cygwin/" class="u-url">Writing C/C++ on Windows using g++ under Cygwin</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/2008/7/9/writing-cc-on-windows-using-g-under-cygwin/" rel="bookmark">
            <time class="published dt-published" datetime="2008-07-09T22:57:50-05:00" itemprop="datePublished" title="2008-07-09 22:57">2008-07-09 22:57</time></a>
            </p>
                <p class="commentline">            <a href="posts/2008/7/9/writing-cc-on-windows-using-g-under-cygwin/#disqus_thread" data-disqus-identifier="cache/posts/2008/7/9/writing-cc-on-windows-using-g-under-cygwin.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>I wrote this ages ago, for the benefit of a Windows user who wanted
guidance getting set up with a free C/C++ compiler to learn the
language. I recommended using the g++ compiler in a command-line
environment under Cygwin, with the following guide to getting started. I
recently found it lurking on my hard-drive, and figured it's not doing
any good to anyone sitting there, so here it is, just in case.</p>
<h4>Introduction</h4>
<p>This article outlines one method of using the open source C/C++
compiler, Gcc to compile C/C++ programs on a Windows PC. It uses Cygwin,
which emulates a Linux-like command-line environment, which is many
times more useful and powerful than the DOS command line that comes out
of the box with Windows.</p>
<p>Of course, if you don't like all this free-as-in-beer,
free-as-in-speech, command-line hippy nonsense, you could always just
splash out for Visual Studio instead. Such a well-designed IDE has many
strengths - but so does the approach I am about to describe. Choose the
tool appropriate to the task in hand.</p>
<h4>Install Cygwin</h4>
<p>Download and run setup.exe from <a href="http://www.cygwin.com/setup.exe">http://www.cygwin.com/setup.exe</a></p>
<p>The root directory you specify to the installer, default C:\cygwin,
will be your Unix root (/) directory under Cygwin. If this doesn't mean
much to you, see the (currently hyperthetical) section on Unix
filesystems below.</p>
<p>Install for all users, and leave default text file type as Unix, not
DOS. There are more <a href="posts/2008/7/9/writing-cc-on-windows-using-g-under-cygwin/%20http:/www.cygwin.com/cygwin-ug-net/setup-net.html">instructions for Cygwin
setup</a> online,
but my intention is that this document should be sufficient.</p>
<p>Eventually you get to choose which packages to install. This window is
resizable, even though it doesn't look like it. Maximise it. Also,
select the 'Curr' radiobutton on the top right - so that we only view
the current versions of each package. (as opposed to old or experimental
versions.)</p>
<p>Expand the categories on the left by clicking their '+' signs. The
'current' column is empty, because you don't yet have anything
installed. Under the 'new' column, you can click the word 'skip' to
select which version of each package you wish to install. This installer
understands the dependencies between packages, so selecting package A
which requires package B will automatically select package B.</p>
<p>Everything under the 'Base' category is already selected, plus their
dependencies. This is a minimal Cygwin install, to which we will now add
one or two things.</p>
<p>Under the 'Devel' section, find the entry for 'gcc. C compiler upgrade
helper.' Selecting the latest version of this package (3.3.3-2 as of 18
Aug 2004) will automatically select all the other parts of gcc that we
need (gcc-core, g++, etc.) as well as the 'binutils' package.</p>
<p>Make sure the following packages are selected:</p>
<ul>
<li>Devel/gcc - will automatically select some other packages</li>
<li>Devel/make</li>
<li>Doc/cygwin-doc</li>
</ul>
<p>You'll also need a text editor. You can either select and install one of
those listed in the Cygwin installer, or else use any Windows program.
Notepad will work fine for the moment. Download Textpad for Windows if
you want something a little more useful without being intimidating. Use
something like Vi or Emacs if you are already familiar with them.</p>
<p>Click [Next] when you're done. Setup downloads and installs the
selected packages.</p>
<h4>Run Cygwin</h4>
<p>Double click the Cygwin icon on your desktop. You should get an
uninspiring DOS-like text terminal in a window. Type the command 'ls',
which lists the files in the current directory. From now on I'll show
commands you should type in <code>monospace</code>, preceded by a dollar sign,
possibly followed by expected output of the command, like this:</p>
<pre class="code literal-block"><span></span><code>$ ls
My Pictures My eBooks My Music
</code></pre>


<p>With any luck, you should recognise the files listed as those residing
in your My Documents directory.</p>
<p>I don't know how much/little Unix or Linux you know, so I'm going to
explain that as little as possible for now, and just press on with what
commands you need to type to get a C program compiled.</p>
<h4>Create a C file</h4>
<p>Create a new directory within 'My Documents', where our C programs will
live. You can use Linux commands if you know them, or use your Windows
Explorer thing. I'm going to use Linux commands:</p>
<pre class="code literal-block"><span></span><code>$ mkdir cprogs
$ <span class="nb">cd</span> cprogs
</code></pre>


<p>(The 'cd' changes directory into the new 'cprogs' directory. Note that
the yellow '\~' above your dollar prompt has changed into a yellow
'\~/cprogs', to indicate this. So now if we type 'ls', then it lists
nothing - our new directory is empty.)</p>
<p>Next we want to create our c source file. If you installed vi or emacs
as part of the cygwin setup, then you can use these here:</p>
<pre class="code literal-block"><span></span><code>$ vi myprog.c
</code></pre>


<p>Otherwise, you can just use notepad, or any other windows text editor.
You can invoke it from the command line if you wish.</p>
<pre class="code literal-block"><span></span><code>$ notepad myprog.c
</code></pre>


<p>Enter and save the following minimal program:</p>
<pre class="code literal-block"><span></span><code><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span> <span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">printf</span> <span class="p">(</span><span class="s">"Hello world</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>


<p>Notice that, while notepad is still open, you can no longer type
anything in your Cygwin terminal window. Cygwin is waiting for notepad
to finish before it lets you type anything else. Save and quit notepad
(now you can type again) and then run it once more, appending an
ampersand at the end of the command:</p>
<pre class="code literal-block"><span></span><code>$ notepad myprog.c <span class="p">&amp;</span>
</code></pre>


<p>The ampersand tells cygwin to run notepad 'in the background', while
allowing the cygwin terminal to continue accepting input. For example,
while notepad is still open, you can now issue a command to compile your
program.</p>
<h4>Compiling</h4>
<p>To compile the program, we invoke the gcc program that we installed as
part of cygwin setup:</p>
<pre class="code literal-block"><span></span><code>$ gcc myprog.c -o myprog
</code></pre>


<p>This tells the program gcc to compile myprog.c, and to call the output
file myprog. If this produces error messages, check the program in
Notepad, save again (Ctrl+S in Notepad) and then recompile. Note that
you can re-issue the compile command by pressing the up arrow key, then
return. If the compile command produces no error messages, nor any other
kind of response, then the compilation has been successful. You can
verify this:</p>
<pre class="code literal-block"><span></span><code>$ ls myprog.c myprog.exe
</code></pre>


<p>(Note: on a real Unix/Linux box, the program would have no '.exe'
extension. It would simply be called 'myprog'.)</p>
<p>And to run your new program:</p>
<pre class="code literal-block"><span></span><code>$ ./myprog
Hello World
</code></pre>


<h4>Wrapup</h4>
<p>That's the basics. You've got yourself a kick-ass C compiler (or C++
compiler if you invoke it with 'g++' instead of 'gcc') along with a
Linux-like environment to use it in. All for free, and without having to
repartition your existing Windows install or suffer the frustration of a
dual-boot system.</p>
<h3>The Art of Unix</h3>
<p>It should be noted that a real Unix/Linux development environment will
build on the arrangement described above, often in the Unix style of
'many small tools talking to each other', rather than as a single
monolithic application in the style of Visual Studio. This allows
competing tools to be slotted into place, giving the developer the
maximum freedom of choice. For example, it is trivial to replace Gcc
with the Intel C++ compiler, Icc, resulting in faster execution speed at
a cost of cross-platform compatibility. Such flexibility leaves the
developer free to retain their favourite text editor, debugger, etc,
regardless of the type of work or what project they are working on.</p>
<p>The command-line is often frowned upon by developers more familiar with
a GUI way of working, who tend to assume that such an ancient interface
represents a cruder way of working. In actual fact, the reverse is true.
A GUI is good for providing guidance to novice users, but ultimately
proves limited and inflexible. One can only use a GUI application for
exactly the uses the original developer envisaged. With a well-designed
command-line, the user is faced with a steeper learning curve, but is
then free to combine programs in novel and constructive ways.</p>
<p>For example, suppose we had 100 C programs to compile (not so
far-fetched if these are actually libraries or plug-ins.) In many IDE
GUI environments, the user would have no choice but to spend all
afternoon loading each program in turn and clicking the [compile]
button. Knowing a little command line magic, however, makes it a
ten-second job:</p>
<pre class="code literal-block"><span></span><code>$ <span class="k">for</span> SOURCE in *.c<span class="p">;</span>
&gt; <span class="k">do</span>
&gt;   gcc <span class="nv">$SOURCE</span> -o <span class="si">${</span><span class="nv">SOURCE</span><span class="p">%.c</span><span class="si">}</span><span class="p">;</span>
&gt; <span class="k">done</span>
</code></pre>


<p>Each method has it's strengths and should be used where they are most
appropriate.</p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2008/7/4/acceptance-testing-a-pyglet-application/" class="u-url">Acceptance testing a pyglet application</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/2008/7/4/acceptance-testing-a-pyglet-application/" rel="bookmark">
            <time class="published dt-published" datetime="2008-07-04T17:30:58-05:00" itemprop="datePublished" title="2008-07-04 17:30">2008-07-04 17:30</time></a>
            </p>
                <p class="commentline">            <a href="posts/2008/7/4/acceptance-testing-a-pyglet-application/#disqus_thread" data-disqus-identifier="cache/posts/2008/7/4/acceptance-testing-a-pyglet-application.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>I've been trying to create a simple acceptance test for a
<a href="http://pyglet.org/">pyglet</a> application. A thorough suite of acceptance
tests, verifying the correctness of all the shapes drawn to the screen
by OpenGL, sounds like far more work than I want to do. But a couple of
simple acceptance tests would be valuable, to check out basic things:
that the application runs; opens a fullscreen window; responds correctly
to some basic inputs and command-line options; and has an acceptable
framerate. Especially if I could quickly run this basic smoke test on
multiple operating systems.</p>
<p>I tried writing an acceptance test which ran the application-under-test
on a new thread. This didn't work for me *at all* (perhaps because
pyglet is not intended to be used with multiple threads), so for the
time being I'd given up, and was proceeding without acceptance-level
tests.</p>
<p>A couple of days ago I had the idea of a test that didn't involve
threading. Instead, it takes a list of test conditions (as lambdas), and
uses pyglet's own clock and scheduler to request a callback to a test
function - <code>try_condition()</code> - on every frame:</p>
<pre class="code literal-block"><span></span><code>    <span class="k">def</span> <span class="nf">try_condition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">next_condition</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">+=</span> <span class="n">dt</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s2">"timeout on </span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">condition</span><span class="p">)</span>
</code></pre>


<p>When <code>try_condition()</code> gets called by pyglet on the first frame, it
evaluates the value of <code>self.condition</code>. If <code>True</code>, then that first part
of the test has passed, and it gets the next condition off the list. If
<code>False</code>, then this function simply returns, to let the application
continue running. When <code>try_condition()</code> is called again on the next
frame, it resumes where it left off, testing out the same condition
again. After it has been trying the same condition for a long enough
time, it deems that condition to have failed, and raises an assertion
error.</p>
<p>Here is the rest of the class, which sets up the scheduled calls to
<code>try_condition()</code>.</p>
<pre class="code literal-block"><span></span><code><span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">TestCase</span>
<span class="kn">from</span> <span class="nn">pyglet</span> <span class="kn">import</span> <span class="n">app</span><span class="p">,</span> <span class="n">clock</span>

<span class="k">class</span> <span class="nc">AcceptanceTest</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="n">timeout</span> <span class="o">=</span> <span class="mf">1.0</span>

    <span class="k">def</span> <span class="nf">set_conditions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">conditions</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conditions</span> <span class="o">=</span> <span class="n">conditions</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next_condition</span><span class="p">()</span>
        <span class="n">clock</span><span class="o">.</span><span class="n">schedule</span><span class="p">(</span><span class="k">lambda</span> <span class="n">dt</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">try_condition</span><span class="p">(</span><span class="n">dt</span><span class="p">))</span>
</code></pre>


<p>So <code>self.conditions</code> is a list of lambdas that will be provided by the
acceptance test. Calling <code>self.next_condition()</code> merely plucks the next
condition off the list, into <code>self.condition</code>. If there are no more
conditions left, then the test has entirely passed and it requests the
application to terminate, by setting the pyglet member <code>window.has_exit</code>
to <code>True</code>.</p>
<pre class="code literal-block"><span></span><code>    <span class="k">def</span> <span class="nf">next_condition</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">conditions</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">condition</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conditions</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">terminate</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">terminate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">win</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_window</span><span class="p">()</span>
        <span class="n">win</span><span class="o">.</span><span class="n">has_exit</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">get_window</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">windows</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_windows</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">windows</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">windows</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">get_windows</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">w</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">app</span><span class="o">.</span><span class="n">windows</span><span class="p">]</span>
</code></pre>


<p>In future, I should probably allow the acceptance test code to specify a
different timeout value for each condition.</p>
<p>Anyhow, we can then write an acceptance test by inheriting from this
<code>AcceptanceTest</code> class, providing an appropriate list of conditions, and
then just calling the application's <code>main()</code> function. This function
won't return until the application exits, either when one of the
conditions times out and raises an assertion error, or else when all
conditions have passed and the test framework sets <code>window.has_exit</code>.</p>
<pre class="code literal-block"><span></span><code><span class="kn">from</span> <span class="nn">testutils.testcase</span> <span class="kn">import</span> <span class="n">run_test</span>
<span class="kn">from</span> <span class="nn">acceptance_test</span> <span class="kn">import</span> <span class="n">AcceptanceTest</span>
<span class="kn">from</span> <span class="nn">sole_scion</span> <span class="kn">import</span> <span class="n">main</span>

<span class="k">class</span> <span class="nc">AT001_app_opens_a_fullscreen_window</span><span class="p">(</span><span class="n">AcceptanceTest</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">is_window_visible</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">win</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_window</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">win</span> <span class="ow">and</span> <span class="n">win</span><span class="o">.</span><span class="n">visible</span>

    <span class="k">def</span> <span class="nf">is_window_fullscreen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">win</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_window</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">win</span> <span class="ow">and</span> <span class="n">win</span><span class="o">.</span><span class="n">fullscreen</span>

    <span class="k">def</span> <span class="nf">test_window</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">conditions</span> <span class="o">=</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_window_visible</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_window_fullscreen</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_conditions</span><span class="p">(</span><span class="n">conditions</span><span class="p">)</span>
        <span class="n">main</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
    <span class="n">run_test</span><span class="p">()</span>
</code></pre>


<p>The conditions don't simply have to be expressions to verify the
application state. They could stimulate the application by raising mouse
or keyboard events, etc, and then simply return <code>True</code> so that the test
harness would move right on to the next condition.</p>
<p>Early days with this idea, but it seems to work, and thus far I'm very
happy with it.</p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2008/6/20/micro-isv-from-vision-to-reality/" class="u-url">Micro ISV : From Vision to Reality</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/2008/6/20/micro-isv-from-vision-to-reality/" rel="bookmark">
            <time class="published dt-published" datetime="2008-06-20T15:50:57-05:00" itemprop="datePublished" title="2008-06-20 15:50">2008-06-20 15:50</time></a>
            </p>
                <p class="commentline">            <a href="posts/2008/6/20/micro-isv-from-vision-to-reality/#disqus_thread" data-disqus-identifier="cache/posts/2008/6/20/micro-isv-from-vision-to-reality.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p><img alt="" src="files/2008/06/screenshot-micro-isv-from-vision-to-reality-google-book-search-mozilla-firefox.png"></p>
<p><em>by Bob Walsh</em></p>
<p>Finally got around to plucking this off the shelf, and yes it's an
interesting grab-bag of things to think about, and case studies of
people who have taken the plunge. But there's not very much in here
that's significantly unexpected. The chapter about business formalities
says 'yes you should create a business plan', but has no guidance about
how to go about that.</p>
<p>All in all then, a nice checklist to make sure you're not overlooking
anything too obvious, but it didn't feel like the in-depth detail I was
hoping for.</p>
<p>Rating: 6/10</p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2008/6/18/sole-scion-project-v01-a-2d-rigid-body-python-game/" class="u-url">Sole Scion project v0.1 : A 2D rigid-body Python game</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/2008/6/18/sole-scion-project-v01-a-2d-rigid-body-python-game/" rel="bookmark">
            <time class="published dt-published" datetime="2008-06-18T06:37:17-05:00" itemprop="datePublished" title="2008-06-18 06:37">2008-06-18 06:37</time></a>
            </p>
                <p class="commentline">            <a href="posts/2008/6/18/sole-scion-project-v01-a-2d-rigid-body-python-game/#disqus_thread" data-disqus-identifier="cache/posts/2008/6/18/sole-scion-project-v01-a-2d-rigid-body-python-game.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p><img alt="screenshot Sole Scion
v1.0" src="files/2008/06/screenshot-sole-scion-v10.png"></p>
<p><a href="http://sethgodin.typepad.com/seths_blog/2008/06/is-it-worthy.html">Everyone</a>
today is <a href="http://www.codinghorror.com/blog/archives/001134.html">abuzz</a>
with the 'release early, release often' sentiment, so I've decided to
get in the spirit and upload the first iteration of 'Sole Scion', my
summertime sabbatical game project.</p>
<p>Version 0.1 merely bounces some circles off an inclined plane
(pictured.) I aim to transform this into a 2D graphical adventure game,
in which I hope emergent fun will take place, once I populate the world
with enough twisty corridors, uniquely-shaped objects that need slotting
into the right places, and judicious instances of ornery fauna to
contend with.</p>
<p>It's written in Python, using
<a href="http://wiki.slembcke.net/main/published/Chipmunk">Chipmunk</a> for rigid
body Newtonian dynamics, with Python bindings using
<a href="http://code.google.com/p/pymunk/">Pymunk</a>. Rendering, gameloop, sounds,
etc are handled by <a href="http://pyglet.org">pyglet</a>.</p>
<p><a href="http://code.google.com/p/sole-scion">Sole Scion is hosted on Google
Code</a>, with Subversion read-access
and a source code tarball, including the redistributables for the above
dependencies, should anyone be curious. It has a <a href="http://www.opensource.org/licenses/bsd-license.php">New BSD
License</a>.</p>
<p>Feedback, thoughts and ideas, very welcome.</p>
<p><strong>Update</strong>: I've only run it on Linux, but reportedly it also works on
Windows. Thanks Xtian!</p>
<p><strong>Update:</strong> It also reportedly works under PyPy, provided you install
the 'functools' module. Thanks Maciej!</p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2008/6/5/cross-site-image-linking-vandalism/" class="u-url">Cross-site image linking vandalism</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/2008/6/5/cross-site-image-linking-vandalism/" rel="bookmark">
            <time class="published dt-published" datetime="2008-06-05T17:17:28-05:00" itemprop="datePublished" title="2008-06-05 17:17">2008-06-05 17:17</time></a>
            </p>
                <p class="commentline">            <a href="posts/2008/6/5/cross-site-image-linking-vandalism/#disqus_thread" data-disqus-identifier="cache/posts/2008/6/5/cross-site-image-linking-vandalism.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p><img alt="New Super Mario Brothers... or is it?" src="files/2007/03/new-super-mario-bros2.jpg"></p>
<p>It never gets old. Thank you for the giggles, <a href="http://vgfreedom.blogspot.com/2008/06/podcast-review-new-super-mario-bros.html">Video Game
Freedom</a>.</p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2008/5/27/the-portable-jung/" class="u-url">The Portable Jung</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/2008/5/27/the-portable-jung/" rel="bookmark">
            <time class="published dt-published" datetime="2008-05-27T13:51:13-05:00" itemprop="datePublished" title="2008-05-27 13:51">2008-05-27 13:51</time></a>
            </p>
                <p class="commentline">            <a href="posts/2008/5/27/the-portable-jung/#disqus_thread" data-disqus-identifier="cache/posts/2008/5/27/the-portable-jung.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p><a href="http://www.amazon.co.uk/Portable-Jung-Viking-Library/dp/0140150706"><img alt="" src="files/2008/05/portable-jung.jpg" title="The Portable Jung"></a></p>
<p><em>Carl G. Jung (Author), Joseph Campbell (Editor), R. F. C. Hull (Translator)</em></p>
<p>I didn't quite know what to make of Jung when KT first handed me this
collection of his essays, many moons ago. Some sort of 19th-century
lunatic Freudian psycho-analyst who was a dab hand with a ouija board
and sang the praises of ritual sacrifices to the almighty triple-headed
hermaphrodite goddesses, right? Something like that.</p>
<p>So it was good to discover that Dr. Jung isn't the wild-eyed loon that
I'd written him off as. His attitude is entirely credible and
scientific, and while he may <em>invoke</em> triple-headed hermaphrodite
goddesses, he does so in an entirely respectable and deeply pertinent
way.</p>
<p>His essays are prefaced by a short biography to set the works in a
meaningful social and personal context. Of particular entertainment
value is the ongoing deterioration of his relationship with Freud, and
the corresponding divergence of their theories. This culminated in
Freud's desperate plea for Jung's cooperation in ensuring that 'the
sexual theory' be established as an unchallengeable axiom in the
explanation of all human behaviours. This didn't strike Jung as being
particularly scientific, and obviously speaks volumes about Freud -
lifelong adulterer - as both a person and a theorist.</p>
<p>Of the essays themselves, some of them resonated more for me than
others. I very much liked his explanation of the nature of the
subconscious necessarily being the polar opposite to the conscious ego,
since all perceptions which do not fit in with the beliefs or attitudes
of the conscious mind are dismissed and repressed. This is a natural and
normal reaction, and it helps us to maintain a consistent and useful
world-view. However, those repressed memories are not erased - they are
simply being ignored by the concious mind. The subconscious appears to
have unfettered access to these repressed fragments. In situations where
the conciousness exercises wilful determination, this leads to a
stressful state of cognitive dissonance, in which the subconscious
comprises a roiling mass of all the impressions and emotions that the
concious mind has rejected. Hence, the tendancy for people to maintain a
strident outward appearance which is completely at odds with, and
arguably exacerbates, pent-up inner demons. For some reason, the
examples that spring to my mind are priests molesting altar boys, or
maybe catholic schoolgirls. Not sure if that's a reflection of modern
organised religion or my own state of mind, oh well.</p>
<p>Equally interesting is Jung's theory of the collective unconscious -
that the religions, myths and legends of the world are united by a
handful of common themes, or archetypes, not because of
cross-pollination of ideas, but because these themes are an expression
of psychological commonalities between all human minds - seems credible
and useful. I still have some reservation in accepting Jung's particular
menagerie of archetypes as definitive. He may have distilled them from
many years studying the world's religions and mythologies, but if you
throw enough noise at a filter the result ends up being characteristic
of the filter (ie. Jung himself) rather than the noise. However, the
validity of the idea in general, and of some of fundamental archetypes,
seems unarguable.</p>
<p>He carefully avoids any explicit judgement of whether any religions or
myths have any basis in objective reality. Such judgements, he rightly
notes, are beyond the ability of the scientific method to evaluate.
However, he provides the potential to categorise them all as simply
being phenomena of human psychology - ie. they are entirely in our head.
This is a double-edge sword, however, for this seeming dismissal
rebounds poetically upon us. What were once distant and faintly heard
mythologies, are now given a deep and highly personal significance, as
they are nothing less than the worldy manifestations of the innermost
workings of our own minds, which each of us would fail to heed at our
peril.</p>
<p>There are other sections which I didn't find so compelling, such as his
concept of synchronicity, but overall it was thoroughly enjoyable and
insightful.</p>
<p>Rating: 8/10</p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2008/5/13/evolved-for-suboptimal-decision-making/" class="u-url">Evolved for suboptimal decision making?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/2008/5/13/evolved-for-suboptimal-decision-making/" rel="bookmark">
            <time class="published dt-published" datetime="2008-05-13T13:12:22-05:00" itemprop="datePublished" title="2008-05-13 13:12">2008-05-13 13:12</time></a>
            </p>
                <p class="commentline">            <a href="posts/2008/5/13/evolved-for-suboptimal-decision-making/#disqus_thread" data-disqus-identifier="cache/posts/2008/5/13/evolved-for-suboptimal-decision-making.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p><img alt="" src="files/2008/05/prisoners-dilemma.jpg"></p>
<p>I *should* be searching out and evaluating Python geometry libraries.
But I keep getting these niggling impulses to start hammering out my own
vector, polygon and quaternion classes. Possibly in C. Ohdear.</p>
<p>Why is it so much easier, or at least so much more appealing, to start
beavering away on your own code, rather than to take the sensible
approach of evaluating existing libraries? A couple of hours searching
could save you days, weeks or months of work, and libraries written and
used by several people will undoubtedly be of higher quality as well -
it should be a no-brainer.</p>
<p>It's easy enough to conjure up subjective justifications for it on a
personal level, but to my mind they rarely hold up to scrutiny. Reading
and understanding other people's code is said to be harder than churning
out some according to your own vision, but surely the depth of
understanding required to use a module should surely be substantially
less than it would take to write it? Likewise, curiosity, obsessiveness,
a sense of personal achievement play a part, but these motives are
deeply subjective, and cannot be used to argue the case that 'rolling
your own' is an efficient or rational decision, merely an enjoyable (or
compulsive) one. Expectations of quality also contribute - everyone
thinks that their own code is better. But this is rarely really the
case, and experienced practitioners recognise it.</p>
<p>On a deeper level, then, why does some part of us allow these inadequate
justifications to hold sway? Even if rationally, we know it doesn't make
sense, why does it feel so <em>desirable</em>? What I'm really asking is, why
have we been evolved to want to build our own, even though it is so
clearly the wrong thing to do?</p>
<p>What if we are tuned, as individuals, to prematurely settle on our own
idiosyncratic approach? The net result would be that, for any given
problem, a flurry of individuals would each set out in different
directions, regardless of what results others might have already
achieved. Viewed as a group activity, this starts to sound a little
saner. Such a dispersion of individuals would rapidly and thoroughly
explore all the corners of the problem space. Compared to the situation
where we all just build cumulatively on what everyone else has done
before, the chances of any one individual finding an optimal answer is
low, but the chances of someone in the group finding it is greatly
increased.</p>
<p>It's a survival-of-the-group trait, that each of us is evolved to pick a
wrong-looking answer, and then expend ourselves beavering away to prove
it. Oh dear indeed.</p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2008/5/9/only-joking/" class="u-url">Only Joking!</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/2008/5/9/only-joking/" rel="bookmark">
            <time class="published dt-published" datetime="2008-05-09T10:14:22-05:00" itemprop="datePublished" title="2008-05-09 10:14">2008-05-09 10:14</time></a>
            </p>
                <p class="commentline">            <a href="posts/2008/5/9/only-joking/#disqus_thread" data-disqus-identifier="cache/posts/2008/5/9/only-joking.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p>I haven't really stopped reading everyone else's posts. Cold turkey?
God, you're a bunch of douchebags.</p>
    </div>
    </article>
</div>
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-12.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-10.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="tartley";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer"></footer>
</div>
</div>

            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
