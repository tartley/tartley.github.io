<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Creating a website devoted to oneself has been described as the greatest act of hubris. Welcome aboard!">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>tartley.com (old posts, page 22) | tartley.com</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="rss.xml">
<link rel="canonical" href="https://www.tartley.com/index-22.html">
<link rel="icon" href="welcome.gif" sizes="16x16">
<link rel="prev" href="index-23.html" type="text/html">
<link rel="next" href="index-21.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://www.tartley.com/">

                <span id="blog-title">tartley.com</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>
                </li>
<li>
<a href="rss.xml">RSS feed</a>
                </li>
<li>
<a href="pages/about/">About</a>

                
            </li>
</ul>
<!-- DuckDuckGo custom search --><form method="get" id="search" action="https://duckduckgo.com/" class="navbar-form pull-left">
<input type="hidden" name="sites" value="https://tartley.com/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" class="span2" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
    
    <a rel="me" href="https://mastodon.social/@tartley"></a>
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/automate-gnome-keybindings/" class="u-url">Automate Gnome keybindings</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/automate-gnome-keybindings/" rel="bookmark">
            <time class="published dt-published" datetime="2017-10-04T20:06:47-05:00" itemprop="datePublished" title="2017-10-04 20:06">2017-10-04 20:06</time></a>
            </p>
                <p class="commentline">            <a href="posts/automate-gnome-keybindings/#disqus_thread" data-disqus-identifier="cache/posts/automate-gnome-keybindings.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>Sick of manual GUI twiddling to fix inconsistent keybindings on various
computers. Solved once and for all, by a new script in my personal
workstation setup bucket:</p>
<p>Warning: This:</p>
<ul>
<li>works great on RHEL,</li>
<li>doesn't all work on Ubuntu&lt;=17.04, I suspect because Unity has
    it's own set of keybinds that are defined elsewhere.</li>
<li>works great on Ubuntu 17.10. especially if you go in manually to
    disable the built-in keybinding for Super-V, which displays the
    calendar and notifications window, which shadows my 'toggle window
    maximize vertically'.</li>
</ul>
<pre class="code literal-block"><span class="ch">#!/usr/bin/env bash</span>

<span class="nv">kb</span><span class="o">=</span><span class="s1">'org.gnome.desktop.wm.keybindings'</span>

<span class="c1"># Switcher, between windows not apps, uses alt-tab and alt-grave</span>
gsettings <span class="nb">set</span> <span class="nv">$kb</span> switch-windows <span class="s2">"['Tab']"</span>
gsettings <span class="nb">set</span> <span class="nv">$kb</span> switch-windows-backward <span class="s2">"['grave', 'Tab']"</span>
gsettings <span class="nb">set</span> <span class="nv">$kb</span> switch-applications <span class="s2">"[]"</span>
gsettings <span class="nb">set</span> <span class="nv">$kb</span> switch-applications-backward <span class="s2">"[]"</span>

<span class="c1"># Window maximize toggle, super-up</span>
gsettings <span class="nb">set</span> <span class="nv">$kb</span> maximize <span class="s2">"[]"</span>
gsettings <span class="nb">set</span> <span class="nv">$kb</span> toggle-maximized <span class="s2">"['Up']"</span>

<span class="c1"># Window maximize vertically toggle, super-v</span>
gsettings <span class="nb">set</span> <span class="nv">$kb</span> maximize-vertically <span class="s2">"['v']"</span>

<span class="c1"># run command, super-r</span>
gsettings <span class="nb">set</span> <span class="nv">$kb</span> panel-run-dialog <span class="s2">"['r', 'F2']"</span>


<span class="c1"># Custom commands</span>

<span class="nv">mk</span><span class="o">=</span><span class="s1">'org.gnome.settings-daemon.plugins.media-keys'</span>
<span class="nv">ckb</span><span class="o">=</span><span class="s1">'/org/gnome/settings-daemon/plugins/media-keys/custom-keybindings'</span>

gsettings <span class="nb">set</span> <span class="nv">$mk</span> custom-keybindings <span class="s2">"['</span><span class="nv">$ckb</span><span class="s2">/custom0/', '</span><span class="nv">$ckb</span><span class="s2">/custom1/']"</span>

gsettings <span class="nb">set</span> <span class="nv">$mk</span>.custom-keybinding:<span class="nv">$ckb</span>/custom0/ name <span class="s2">"screen off"</span>
gsettings <span class="nb">set</span> <span class="nv">$mk</span>.custom-keybinding:<span class="nv">$ckb</span>/custom0/ <span class="nb">command</span> <span class="s2">"screenoff"</span>
gsettings <span class="nb">set</span> <span class="nv">$mk</span>.custom-keybinding:<span class="nv">$ckb</span>/custom0/ binding <span class="s2">"z"</span>

gsettings <span class="nb">set</span> <span class="nv">$mk</span>.custom-keybinding:<span class="nv">$ckb</span>/custom1/ name <span class="s2">"terminal"</span>
gsettings <span class="nb">set</span> <span class="nv">$mk</span>.custom-keybinding:<span class="nv">$ckb</span>/custom1/ <span class="nb">command</span> <span class="s2">"terminal"</span>
gsettings <span class="nb">set</span> <span class="nv">$mk</span>.custom-keybinding:<span class="nv">$ckb</span>/custom1/ binding <span class="s2">"t"</span>
</pre>
<p>Embedded in that is the ultimate solution to my longstanding irk with
Unity and Gnome's default window switcher (alt-tab.) By default it
groups windows of a single application together, requiring some extra
-grave pressing to navigate between windows within an application.</p>
<p>This not only requires way more effort, but also breaks the expected
behaviour of just tapping alt-tab to go back to the last used window.
Instead it goes back to the last used application, so you can't toggle
between two windows of the same application, eg. two terminals. Absolute
madness.</p>
<p>The above modifies alt-tab to just cycle through all windows, ungrouped,
which fixes the ability to toggle between last two windows. Also,
alt-grave is provided as an alternative to cycle backwards through the
windows, which is easier to hit than shift-alt-tab.</p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/postscript-formatted-man-pages/" class="u-url">Postscript formatted man pages</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/postscript-formatted-man-pages/" rel="bookmark">
            <time class="published dt-published" datetime="2017-08-22T20:34:02-05:00" itemprop="datePublished" title="2017-08-22 20:34">2017-08-22 20:34</time></a>
            </p>
                <p class="commentline">            <a href="posts/postscript-formatted-man-pages/#disqus_thread" data-disqus-identifier="cache/posts/postscript-formatted-man-pages.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p><code>man</code> and its <code>troff</code> formatting can be asked to produce postscript
output. Define a Bash function, e.g. in your .bashrc:</p>
<pre class="code literal-block"><span></span><code><span class="k">function</span> psman <span class="o">()</span> <span class="o">{</span>
    <span class="nv">SLUG</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span> <span class="nv">$@</span> <span class="p">|</span> tr <span class="s1">' '</span> <span class="s1">'-'</span><span class="k">)</span>
    <span class="nv">FNAME</span><span class="o">=</span><span class="s2">"/tmp/man-</span><span class="nv">$SLUG</span><span class="s2">.pdf"</span>
    <span class="nb">set</span> -o pipefail
    man -t <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span> <span class="p">|</span> ps2pdf - <span class="s2">"</span><span class="nv">$FNAME</span><span class="s2">"</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
      nohup evince <span class="s2">"</span><span class="nv">$FNAME</span><span class="s2">"</span> &gt;/dev/null <span class="m">2</span>&gt;/dev/null
    <span class="nb">set</span> +o pipefail
<span class="o">}</span>
</code></pre>

<p>(I tried to do this without tempfiles, using process substitution, <a href="https://superuser.com/questions/1243405">but
failed. Anyone got better
Bash-fu</a>?)</p>
<p>The <code>man -t</code> is the crucial part. It tells <code>man</code> to produce output in
postscript format, which <code>ps2pdf</code> can read, and <code>evince</code> displays the
PDF. We disconnect the evince process using <code>nohup</code>, so that it lives on
even if we kill the terminal. We `set -o pipefail` so that if `man`
fails, the exit code is preserved as the exit of `man|ps2pdf`, which
causes the `&amp;&amp;` to short-circuit, preventing evince from being run on
an empty pdf document. We restore `+o pipefail` again at the end.</p>
<p>Then, from the command line:</p>
<pre class="code literal-block"><span></span><code>$ psman tr
</code></pre>

<p>produces</p>
<p><a href="files/2017/08/pman-tr.png"><img alt="" src="files/2017/08/pman-tr.png"></a></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/rhythmbox-plugin-announce/" class="u-url">Rhythmbox plugin: "Announce"</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/rhythmbox-plugin-announce/" rel="bookmark">
            <time class="published dt-published" datetime="2016-05-15T20:34:48-05:00" itemprop="datePublished" title="2016-05-15 20:34">2016-05-15 20:34</time></a>
            </p>
                <p class="commentline">            <a href="posts/rhythmbox-plugin-announce/#disqus_thread" data-disqus-identifier="cache/posts/rhythmbox-plugin-announce.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>I use the Linux music player "Rhythmbox". This morning I wrote a plugin
for it, called "Announce":</p>
<p><a href="https://github.com/tartley/rhythmbox-plugin-announce">https://github.com/tartley/rhythmbox-plugin-announce</a></p>
<p>Every time a new song starts to play, it announces the title using
speech synthesis. I like it when I'm listening to some new music I'm not
familiar with, but am away from the computer. Then I can still know
which track is which.</p>
<p>If the album or artist names are different from the previous track, then
it includes those in the announcement, too.</p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/google-chrome-credit/" class="u-url">Google Chrome Credit</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/google-chrome-credit/" rel="bookmark">
            <time class="published dt-published" datetime="2016-01-20T23:10:47-06:00" itemprop="datePublished" title="2016-01-20 23:10">2016-01-20 23:10</time></a>
            </p>
                <p class="commentline">            <a href="posts/google-chrome-credit/#disqus_thread" data-disqus-identifier="cache/posts/google-chrome-credit.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>I just noticed: Open Chrome, go to <chrome:></chrome:>, search in page,
'show licence', and:</p>
<p><a href="files/2016/01/chrome-credit.png"><img alt="chrome-credit" src="files/2016/01/chrome-credit.png"></a></p>
<p>Which is nice. Not bad for a dirty weekend hack.</p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/pyrochestermn/" class="u-url">PyRochesterMN</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/pyrochestermn/" rel="bookmark">
            <time class="published dt-published" datetime="2016-01-20T21:01:27-06:00" itemprop="datePublished" title="2016-01-20 21:01">2016-01-20 21:01</time></a>
            </p>
                <p class="commentline">            <a href="posts/pyrochestermn/#disqus_thread" data-disqus-identifier="cache/posts/pyrochestermn.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>Announcing the world's newest Python User Group, PyRochesterMN, based in
Rochester, Minnesota, USA.</p>
<p><strong>Update:</strong> We've had a couple of name &amp; hosting changes since:</p>
<p><del><a href="http://www.meetup.com/PyRochesterMN">http://www.meetup.com/PyRochesterMN</a></del></p>
<p><del><a href="http://www.meetup.com/RochesTech">http://www.meetup.com/RochesTech</a></del></p>
<p><a href="https://www.reddit.com/r/rochestertech/">https://www.reddit.com/r/rochestertech/</a></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/git-when-to-use-three-dots-vs-two/" class="u-url">Git: When to use three dots vs two</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/git-when-to-use-three-dots-vs-two/" rel="bookmark">
            <time class="published dt-published" datetime="2015-08-25T11:51:30-05:00" itemprop="datePublished" title="2015-08-25 11:51">2015-08-25 11:51</time></a>
            </p>
                <p class="commentline">            <a href="posts/git-when-to-use-three-dots-vs-two/#disqus_thread" data-disqus-identifier="cache/posts/git-when-to-use-three-dots-vs-two.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>I endlessly misremember when to use '...' in git versus '..'. That ends
today:</p>
<p>To see the commits or diffs introduced by a branch (the filled circles ●):</p>
<pre class="code literal-block"><span></span><code>     f
    +●  m           git log m..f
     |  ○
    +●  |           git diff m...f
      \ ○
       \|
        ○
</code></pre>

<p>To see the commits or diffs between the tip of one branch and another:</p>
<pre class="code literal-block"><span></span><code>     f              git log m...f
    +●  m           All commits look the same,
     |  ●-          unless you use --left-right, which
    +●  |           shows where each commit comes from.
      \ ●-
       \|           git diff m..f
        ○           '-' commits are shown inverted,
                     i.e. additions as deletions.
</code></pre>

<p>To see the commits from 'f' back to the beginning of time:</p>
<pre class="code literal-block"><span></span><code>     f
    +●  m           git log f
     |  ○
    +●  |           (diffs back to start of time are just
      \ ○            the contents of the working tree)
       \|
       +●
        |
       +●
</code></pre>

<p>Throughout, omitted branchname defaults to current HEAD, i.e, the one of the
above that you almost always want:</p>
<pre class="code literal-block"><span></span><code>git diff m...f
</code></pre>

<p>is the same as</p>
<pre class="code literal-block"><span></span><code>git checkout f
git diff m...
</code></pre>

<p>or</p>
<pre class="code literal-block"><span></span><code>git checkout m
git diff ...f
</code></pre>

<p>Is there a word for unicode ascii art?</p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/thoughts-on-nylas-how-we-deploy-code/" class="u-url">Thoughts on Nylas' "How We Deploy Code"</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/thoughts-on-nylas-how-we-deploy-code/" rel="bookmark">
            <time class="published dt-published" datetime="2015-07-21T19:06:02-05:00" itemprop="datePublished" title="2015-07-21 19:06">2015-07-21 19:06</time></a>
            </p>
                <p class="commentline">            <a href="posts/thoughts-on-nylas-how-we-deploy-code/#disqus_thread" data-disqus-identifier="cache/posts/thoughts-on-nylas-how-we-deploy-code.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>Some thoughts on <a href="https://nylas.com/blog/packaging-deploying-python">Nylas' post "How We Deploy
Code."</a></p>
<p>The goals of making deployment consistent, reliable and fast are very
laudable, and the conclusion involving creating Debian packages is just
great. But in the spirit of geek nitpicking, I can't help but think the
justifications given are misguided, and overlook a simpler solution.</p>
<p><strong>&gt;&gt; pip does not offer a "revert deploy" strategy</strong></p>
<p>Yes it does. Throw away the virtualenv and create a new one using the
requirements.txt from an earlier release. This might be slow, but you
can both speed it up (see below), and you can keep old versioned
virtualenvs around, as a cache of the output of this slow step, so that
reverts (the time when you really want deploys to go quickly) require
only a couple of symlinks.</p>
<p><strong>Update:</strong> Oooh, and I just had an idea. You could version virtualenvs
using a hash of the requirements, so that deploys which do not change
dependencies can share the same virtualenv. I've never tried that - it
might work?!?!</p>
<p><strong>&gt;&gt; Installing dependencies with pip can make deploys painfully
slow</strong></p>
<p>This is true. But it's not the final word on the matter.</p>
<p>Firstly, don't grab the dependencies you're installing from PyPI. Have a
local cache of them. That speeds up the install tremendously, not just
because no download takes place, but also because no trawling of PyPI
and author sites for possible alternate versions takes place. Some
people use a local PyPI instance, but I like simply using a directory
full of packages. Point pip at it using
'<code>pip install --no-index --find-links=packages -r requirements</code>'. The
'packages' directory could be checked into your project's repo, so that
once you've checked a project out, you have everything you need to
deploy to local VMs, even with no network connection at all. I wrote
about this <a href="pip-install-lightspeed-and-bulletproof">a while ago</a>.</p>
<p><strong>&gt;&gt; Building your code separately on each host will cause
consistency issues</strong></p>
<p>So don't install dependencies using source packages, use wheels instead.
Then any slow or unreliable build step is done once, when you create the
packages directory, while deployment is now reliable and requires no
development tools on the production server such as compilers, headers,
etc.</p>
<p><strong>Update:</strong> As a bonus, this will again substantially speed up the
creation of your virtualenv when deploying.</p>
<p><strong>&gt;&gt; Deploys will fail if the PyPI or your git server are down</strong></p>
<p>PyPI outages (or a package author deleting their package, which happens
routinely) are not a problem if you're deploying from a local source of
packages.</p>
<p>I agree that application code deployment shouldn't be done using a 'git
pull'. Accessibility to GitHub shouldn't be a single point of failure,
and the fewer development tools needed on production servers the better.
So export the code from git into a tar file when you cut a release, and
then push it out using scp at deploy time.</p>
<p>Having said all that, there are still advantages to having your whole
app and its dependencies handled by a single mechanism like Debian
packages, rather than more bug-prone ad-hoc scripts and Ansible config.
So I'm not at all against the final conclusions of the Nylas article.
(Hugs to you folks at Nylas!)</p>
<p>Dashed this out in ten minutes between daycare pickup and dinner being
ready. Apologies for the inevitable shoddyness.</p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/listen-to-your-phone-through-your-pc-speakers/" class="u-url">Listen to your phone through your PC speakers</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/listen-to-your-phone-through-your-pc-speakers/" rel="bookmark">
            <time class="published dt-published" datetime="2015-03-15T10:50:09-05:00" itemprop="datePublished" title="2015-03-15 10:50">2015-03-15 10:50</time></a>
            </p>
                <p class="commentline">            <a href="posts/listen-to-your-phone-through-your-pc-speakers/#disqus_thread" data-disqus-identifier="cache/posts/listen-to-your-phone-through-your-pc-speakers.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <pre class="code literal-block"><span></span><code><span class="ch">#!/usr/bin/env bash</span>

<span class="c1"># Directs audio input (e.g. mic) to audio output (e.g. speakers),</span>
<span class="c1"># then sleeps forever. Stops audio redirection when it is killed.</span>
<span class="c1"># So, for example, plug your phone into the PC's mic, run 'listen',</span>
<span class="c1"># and listen to phone audio through your computer's speakers.</span>
<span class="c1">#</span>
<span class="c1"># Requires:</span>
<span class="c1"># sudo apt-get install pactl # Ubuntu</span>

<span class="nb">set</span> -e

<span class="nv">module</span><span class="o">=</span><span class="k">$(</span>pactl load-module module-loopback<span class="k">)</span>

<span class="k">function</span> cleanup <span class="o">{</span>
    pactl unload-module <span class="nv">$module</span>
<span class="o">}</span>

<span class="nb">trap</span> cleanup EXIT

sleep infinity
</code></pre>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/understanding-rebase-so-it-sticks/" class="u-url">Understanding git rebase so it sticks</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/understanding-rebase-so-it-sticks/" rel="bookmark">
            <time class="published dt-published" datetime="2014-02-07T10:28:37-06:00" itemprop="datePublished" title="2014-02-07 10:28">2014-02-07 10:28</time></a>
            </p>
                <p class="commentline">            <a href="posts/understanding-rebase-so-it-sticks/#disqus_thread" data-disqus-identifier="cache/posts/understanding-rebase-so-it-sticks.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>I endlessly misremember how to use git rebase. That ends today. Here are
my notes to help me remember.</p>
<p>Rebase is traditionally documented as:</p>
<pre class="code literal-block">git rebase <span class="o">[</span>--onto newbase<span class="o">]</span> <span class="o">[</span>upstream <span class="o">[</span>branch<span class="o">]]</span>
</pre>
<p>This is confusing for several reasons. A slight improvement is to rename
the args:</p>
<pre class="code literal-block">git rebase <span class="o">[</span>--onto target<span class="o">]</span> <span class="o">[</span>exclude <span class="o">[</span>include<span class="o">]]</span>
</pre>
<p>Where:</p>
<ul>
<li>
<code>include</code> is the tip of the branch to be transplanted. If omitted,
    it defaults to the current branch.</li>
<li>
<code>exclude</code> excludes all its ancestors from being transplanted. Hence
    the transplanted branch will have its tip at <code>include</code>, and its base
    at the common ancestor of <code>include</code> and <code>exclude</code>. If <code>--onto</code> isn't
    specified, <code>exclude</code> is also used as the destination for the
    transplant.</li>
<li>
<code>target</code> is the place to transplant the branch to. If not specified,
    it defaults to the value of <code>exclude</code>.</li>
</ul>
<p>Hence, a simple before and after:</p>
<pre class="code literal-block">o---o---o---o---o---o exclude
     \
      1---2---3 current branch
                or include
</pre>
<pre class="code literal-block">git rebase exclude <span class="o">[</span>include<span class="o">]</span>
</pre>
<pre class="code literal-block">                exclude
                v
o---o---o---o---o---1---2---3 current branch
                              or include
</pre>
<p>See how the commits to be transplanted start at <code>include</code> and go back to
the common ancestor of that and <code>exclude</code>. Since <code>--onto</code> isn't
specified, <code>exclude</code> is also used as the transplant destination.</p>
<p>Or a more complex one:</p>
<pre class="code literal-block"> o---o---o---o---o target
      \
       o---o---o exclude
            \
             1---2 current branch
                   or include
</pre>
<pre class="code literal-block">git rebase --onto target exclude <span class="o">[</span>include<span class="o">]</span>
</pre>
<pre class="code literal-block">                    target
                    v
    o---o---o---o---o---1---2 current branch
         \                    or include
          o---o---o
                  ^
                  exclude
</pre>
<p>Again, the commits to be transplanted are defined by <code>include</code> and
<code>exclude</code>, but this time a separate destination is specified using
<code>--onto</code>.</p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/this-gaming-life-travels-in-three-cities/" class="u-url">This Gaming Life: Travels in Three Cities</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/this-gaming-life-travels-in-three-cities/" rel="bookmark">
            <time class="published dt-published" datetime="2014-02-03T20:31:29-06:00" itemprop="datePublished" title="2014-02-03 20:31">2014-02-03 20:31</time></a>
            </p>
                <p class="commentline">            <a href="posts/this-gaming-life-travels-in-three-cities/#disqus_thread" data-disqus-identifier="cache/posts/this-gaming-life-travels-in-three-cities.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p><span style="float: left">
<img alt="gaminglife" src="files/2014/02/gaminglife.jpg"></span></p>
<p><em>by Jim Rossignol</em> (2009)</p>
<p>A gorgeous insider's look at videogaming culture, by an author who,
after an unfulfilling stint as a financial journalist, has built his
life around games.</p>
<p>Broken into sections corresponding with the author's experiences in
London, Seoul and Reykjavik, it's thoughtful and manages to sidestep the
patronising oversimplifications of mainstream media's gaming coverage.</p>
<p>From <em>Tetris</em> and <em>Elite</em> to <em>Okami</em> and <em>Shadow of the Collossus</em>,
stopping along the way to examine the modding and indie scenes, the
massively multiplayer intricacies of <em>EVE Online</em>, and the insane
heights of Korean real-time strategy matches. He knows the best <em>Prince
of</em> <em>Persia</em> was <em>Sands of Time</em>, by a country mile. He's one of us. I
felt welcomed to his world. Join us - we'll be on the sofa.</p>
<p>Rating:</p>
<p>10/10 if you understand that games have the potential to become the
dominant art form of the 21st century.</p>
<p>0/10 if it's just for kids, innit?</p>
<p><br style="clear: left"></p>
</div>
    </div>
    </article>
</div>
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-23.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-21.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="tartley";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer"></footer>
</div>
</div>

            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
