<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Use of Asserts in Unit-Tested Code | tartley.com</title>
<link href="../../../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../../../../rss.xml">
<link rel="canonical" href="https://www.tartley.com/posts/2009/11/27/use-of-asserts-in-unit-tested-code/">
<link rel="icon" href="../../../../../welcome.gif" sizes="16x16">
<!--[if lt IE 9]><script src="../../../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Jonathan Hartley">
<link rel="prev" href="../../18/set-your-prompt/" title="Set your Prompt" type="text/html">
<link rel="next" href="../../../12/3/solveduk-digital-economy-bill/" title="[SOLVED]UK Digital Economy Bill" type="text/html">
<meta property="og:site_name" content="tartley.com">
<meta property="og:title" content="Use of Asserts in Unit-Tested Code">
<meta property="og:url" content="https://www.tartley.com/posts/2009/11/27/use-of-asserts-in-unit-tested-code/">
<meta property="og:description" content="I pretty much abandoned the use of asserts in production code once I was
introduced to test driven development. Amongst their failings, assert
statements are only suited to testing very localised cond">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2009-11-27T14:47:32-06:00">
<meta property="article:tag" content="python">
<meta property="article:tag" content="software">
<meta property="article:tag" content="testing">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://www.tartley.com/">

                <span id="blog-title">tartley.com</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../../../../archive.html">Archive</a>
                </li>
<li>
<a href="../../../../../categories/">Tags</a>
                </li>
<li>
<a href="../../../../../rss.xml">RSS feed</a>
                </li>
<li>
<a href="../../../../../pages/about/">About</a>

                
            </li>
</ul>
<!-- DuckDuckGo custom search --><form method="get" id="search" action="https://duckduckgo.com/" class="navbar-form pull-left">
<input type="hidden" name="sites" value="https://www.tartley.com/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Searchâ€¦" class="span2" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Use of Asserts in Unit-Tested Code</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2009-11-27T14:47:32-06:00" itemprop="datePublished" title="2009-11-27 14:47">2009-11-27 14:47</time></a>
            </p>
                <p class="commentline">            <a href="#disqus_thread" data-disqus-identifier="cache/posts/2009/11/27/use-of-asserts-in-unit-tested-code.html">Comments</a>


            
        </p>
</div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>I pretty much abandoned the use of asserts in production code once I was
introduced to test driven development. Amongst their failings, assert
statements are only suited to testing very localised conditions, such as
within a particular function - it's not clear to me how they can be used
to simply verify the behaviour of a number of objects working in concert
with one another.</p>
<p>Some recent papers have touched on this issue. For example '<a href="http://research.microsoft.com/apps/pubs/default.aspx?id=70290">Assessing
the Relationship between Software Assertions and Code
Quality</a>'
by Gunnar Kudrjavets, Nachiappan Nagappan and Thomas Ball of Microsoft:
<em>"We observe from our case study that with an increase in the assertion
density in a file there is a statistically significant decrease in fault
density. Further, the usage of software assertions in these components
found a large percentage of the faults in the bug database."</em></p>
<p>However, both assertion density and low defect rates also correlate with
higher levels of developer experience. So, nothing definitive is proven,
but the study has got me thinking. One of the recurring themes in the
<em><a href="http://www.amazon.co.uk/Coders-Work-Reflections-Craft-Programming/dp/1430219483">Coders at
Work</a></em>
book that I enjoyed recently, is that several of the expert
practitioners interviewed in the book mentioned how useful they found
thinking about code in terms of its invariants. The use of assertions
does seem to lend itself to testing invariants like this - some quantity
which can be calculated at the start of a function call, and then
asserted to be unchanged by the end of it.</p>
<p>So can assertions be useful even in code that is well unit-tested? Are
there any rules we can use to choose which things might be more
productively tested using such asserts, rather than in unit tests?</p>
<p>I don't know. This is as far as I've got. Thoughts, speculations and
anecdotes welcome.</p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../../../categories/python/" rel="tag">python</a></li>
            <li><a class="tag p-category" href="../../../../../categories/software/" rel="tag">software</a></li>
            <li><a class="tag p-category" href="../../../../../categories/testing/" rel="tag">testing</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../../18/set-your-prompt/" rel="prev" title="Set your Prompt">Previous post</a>
            </li>
            <li class="next">
                <a href="../../../12/3/solveduk-digital-economy-bill/" rel="next" title="[SOLVED]UK Digital Economy Bill">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
                        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="tartley",
            disqus_url="https://www.tartley.com/posts/2009/11/27/use-of-asserts-in-unit-tested-code/",
        disqus_title="Use of Asserts in Unit-Tested Code",
        disqus_identifier="cache/posts/2009/11/27/use-of-asserts-in-unit-tested-code.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="tartley";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer"></footer>
</div>
</div>

            <script src="../../../../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
