<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>tartley.com (Posts about MSWin-dev)</title><link>https://www.tartley.com/</link><description></description><atom:link href="https://www.tartley.com/categories/cat_mswin-dev.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents Â© 2020 &lt;a href="mailto:tartley@tartley.com"&gt;Jonathan Hartley&lt;/a&gt; &lt;a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"&gt;&lt;img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /&gt;&lt;/a&gt;&lt;br /&gt;&lt;span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"&gt;tartley.com&lt;/span&gt; by &lt;a xmlns:cc="http://creativecommons.org/ns#" href="https://www.tartley.com" property="cc:attributionName" rel="cc:attributionURL"&gt;Jonathan Hartley&lt;/a&gt; is licensed under a &lt;a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"&gt;Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License&lt;/a&gt;.</copyright><lastBuildDate>Thu, 11 Jun 2020 19:39:42 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>More Colored Terminal text on Windows: AnsiCon</title><link>https://www.tartley.com/posts/2010/7/8/more-colored-terminal-text-on-windows-ansicon.html</link><dc:creator>Jonathan Hartley</dc:creator><description>&lt;div&gt;&lt;p&gt;A reminder for myself:&lt;/p&gt;
&lt;p&gt;ANSI escape characters don't work properly in Windows terminals:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Before: Raw ANSI codes. Not nice." src="https://www.tartley.com/files/2010/07/ansicon00-before.png"&gt;&lt;/p&gt;
&lt;p&gt;To make them work properly, use
&lt;a href="http://adoxa.110mb.com/ansicon/index.html"&gt;AnsiCon&lt;/a&gt;. Unzip it somewhere
permanent (eg. &lt;code&gt;%ProgramFiles%\ansicon&lt;/code&gt;) and install it with:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;ansicon.exe -i&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;


&lt;p&gt;start a new terminal, and lo:&lt;/p&gt;
&lt;p&gt;&lt;img alt="After: Pretty." src="https://www.tartley.com/files/2010/07/ansicon01-working.png"&gt;&lt;/p&gt;
&lt;p&gt;Fine tune the appearance of the programs generating the color, for
example customise 'hg diff' by editing \~/.hgrc:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p p-Indicator"&gt;[&lt;/span&gt;&lt;span class="nv"&gt;extensions&lt;/span&gt;&lt;span class="p p-Indicator"&gt;]&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;color =&lt;/span&gt;

&lt;span class="l l-Scalar l-Scalar-Plain"&gt;[color]&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;status.modified = yellow bold&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;status.unknown = white&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;status.deleted = red_background white bold&lt;/span&gt;

&lt;span class="l l-Scalar l-Scalar-Plain"&gt;diff.deleted = red bold&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;diff.inserted = green bold&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;diff.file_a = white&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;diff.file_b = white&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;diff.diffline = white_background black&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;diff.extended = yellow bold&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;diff.hunk = underline black&lt;/span&gt;
&lt;span class="l l-Scalar l-Scalar-Plain"&gt;diff.changed = yellow bold&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;


&lt;p&gt;&lt;img alt="Fine-tuned" src="https://www.tartley.com/files/2010/07/ansicon02-tuned.png"&gt;&lt;/p&gt;
&lt;p&gt;ANSI is correctly stripped out if the output of a program is not a
terminal, so the colored output won't interfere with saving to files nor
machine-parsing of the text:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Filtered" src="https://www.tartley.com/files/2010/07/ansicon03-filtered.png"&gt;&lt;/p&gt;
&lt;p&gt;Finally, insert some &lt;a href="http://pueblo.sourceforge.net/doc/manual/ansi_color_codes.html"&gt;ANSI
codes&lt;/a&gt;
into your &lt;a href="http://ss64.com/nt/prompt.html"&gt;prompt&lt;/a&gt;, by setting
environment variable PROMPT:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;set PROMPT=$E[0;36m$P$_$E[36;1m$G$E[0m$S&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;


&lt;p&gt;&lt;img alt="Colored Prompt" src="https://www.tartley.com/files/2010/07/ansicon04-prompt.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://tartley.com/?p=1062"&gt;Multiple&lt;/a&gt;
&lt;a href="http://tartley.com/?p=863"&gt;posts&lt;/a&gt; on colors and terminal text is
perhaps a bit obsessive of me. I think I'm all done now.&lt;/p&gt;&lt;/div&gt;</description><category>MSWin-dev</category><guid>https://www.tartley.com/posts/2010/7/8/more-colored-terminal-text-on-windows-ansicon.html</guid><pubDate>Thu, 08 Jul 2010 19:07:09 GMT</pubDate></item><item><title>Set your Prompt</title><link>https://www.tartley.com/posts/2009/11/18/set-your-prompt.html</link><dc:creator>Jonathan Hartley</dc:creator><description>&lt;div&gt;&lt;p&gt;It's a tiny detail, but the default command-line prompt (on both Windows
and Unix) drives me nuts.&lt;/p&gt;
&lt;p&gt;&lt;img alt="mswin-command-prompt1" src="https://www.tartley.com/files/2009/11/mswin-command-prompt1.png" title="mswin-command-prompt1"&gt;&lt;/p&gt;
&lt;p&gt;See how my cursor is way over on the right. So every command you ever
type gets immediately split over two lines.&lt;/p&gt;
&lt;p&gt;This is governed by the PROMPT environment variable. It's the Windows
equivalent of the Unix PS1 variable. You can set this using the
environment variable editing GUI on the System Properties dialog. (I'll
describe a better way to manage environment variables in a later post.)&lt;/p&gt;
&lt;pre class="code literal-block"&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;set Prompt=$P$_$G$S&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;


&lt;p&gt;The dollar codes are expanded into:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;\$P - present working directory&lt;/li&gt;
&lt;li&gt;\$_ - newline&lt;/li&gt;
&lt;li&gt;\$G - greater than&lt;/li&gt;
&lt;li&gt;\$S - space&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="mswin-command-prompt2" src="https://www.tartley.com/files/2009/11/mswin-command-prompt2.png" title="mswin-command-prompt2"&gt;&lt;/p&gt;
&lt;p&gt;There, isn't that better? There are a bunch of other special dollar
codes, that are described
&lt;a href="http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/prompt.mspx?mfr=true"&gt;here&lt;/a&gt;.
They only work within this one environment variable, you can't use them
anywhere else.&lt;/p&gt;&lt;/div&gt;</description><category>MSWin-dev</category><guid>https://www.tartley.com/posts/2009/11/18/set-your-prompt.html</guid><pubDate>Wed, 18 Nov 2009 22:57:10 GMT</pubDate></item></channel></rss>