<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Creating a website devoted to oneself has been described as the greatest act of hubris. Welcome aboard!">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>tartley.com (old posts, page 24) | tartley.com</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="rss.xml">
<link rel="canonical" href="https://www.tartley.com/index-24.html">
<link rel="icon" href="welcome.gif" sizes="16x16">
<link rel="prev" href="index-25.html" type="text/html">
<link rel="next" href="index-23.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://www.tartley.com/">

                <span id="blog-title">tartley.com</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>
                </li>
<li>
<a href="rss.xml">RSS feed</a>
                </li>
<li>
<a href="pages/about/">About</a>

                
            </li>
</ul>
<!-- DuckDuckGo custom search --><form method="get" id="search" action="https://duckduckgo.com/" class="navbar-form pull-left">
<input type="hidden" name="sites" value="https://tartley.com/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" class="span2" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
    
    <a rel="me" href="https://mastodon.social/@tartley"></a>
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/energy-use-per-transaction-for-cryptocurrencies-vs-visa/" class="u-url">Energy use per transaction for cryptocurrencies vs Visa</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/energy-use-per-transaction-for-cryptocurrencies-vs-visa/" rel="bookmark">
            <time class="published dt-published" datetime="2021-05-13T16:09:33-05:00" itemprop="datePublished" title="2021-05-13 16:09">2021-05-13 16:09</time></a>
            </p>
                <p class="commentline">            <a href="posts/energy-use-per-transaction-for-cryptocurrencies-vs-visa/#disqus_thread" data-disqus-identifier="cache/posts/energy-use-per-transaction-for-cryptocurrencies-vs-visa.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>For my own calibration, approximate current energy use for a single transaction
in various cryptocurrencies, compared with using Visa:</p>
<table>
<thead><tr>
<th>Currency </th>
<th>Symbol </th>
<th align="right">Energy use<br>per txn(Wh) </th>
<th>Equivalent</th>
</tr></thead>
<tbody>
<tr>
<td>Bitcoin</td>
<td>BTC</td>
<td align="right">1,000,000 </td>
<td>Hot tub, 150 hours</td>
</tr>
<tr>
<td>Ethereum</td>
<td>ETH</td>
<td align="right">62,000 </td>
<td>Nissan Leaf, 1.5 charges</td>
</tr>
<tr>
<td>Litecoin</td>
<td>LTC</td>
<td align="right">19,000 </td>
<td>Clothes washer, 8 loads</td>
</tr>
<tr>
<td>Chia</td>
<td>XCH</td>
<td align="right">2,000 </td>
<td>Dishwasher, 1 hour</td>
</tr>
<tr>
<td>Cardano</td>
<td>ADA</td>
<td align="right">500 </td>
<td>Computer &amp; monitor, 1 hour</td>
</tr>
<tr>
<td>Dogecoin</td>
<td>DOGE</td>
<td align="right">120 </td>
<td>Humidifier, 1 hour</td>
</tr>
<tr>
<td>Ripple</td>
<td>XRP</td>
<td align="right">79 </td>
<td>Amazon echo telling 2 jokes</td>
</tr>
<tr>
<td><strong>Visa</strong></td>
<td></td>
<td align="right">1.5 </td>
<td>LED light bulb for 9 minutes</td>
</tr>
<tr>
<td>Nano</td>
<td>NANO</td>
<td align="right">0.1 </td>
<td>LED light bulb for 30 seconds</td>
</tr>
</tbody>
</table>
<p><br>
Sources</p>
<ul>
<li>I got most crypto energy use from
  <a href="https://www.benzinga.com/markets/cryptocurrency/21/05/21098323/elon-musk-says-tesla-looking-at-other-cryptos-who-use-less-than-1-of-bitcoins-energy-which">this roundup</a>.</li>
<li>For Visa, I used the figures from <a href="https://digiconomist.net/bitcoin-energy-consumption">this breakdown</a>,
  and <a href="https://digiconomist.net/bitcoin-energy-consumption">this one</a>, which agrees.</li>
<li>For Bitcoin, I took a rounded figure roughly between those quoted on the
  above two sources (710kWh and 1,123kWh). A single figure precision is
  probably most appropriate anyhow. <strong>Update</strong>: The digiconomist article above
  is updated as the Bitcoin energy use increases over time with proof
  difficulty, and it's now at almost double the figure I quoted above,
  at 1,800 kWh/txn.</li>
<li>For Chia, I did my own hacky calculation.
  <a href="https://chiapower.org/">Chia Power estimates 6MW</a>
  in total is used by the Chia network, at current size of 4EiB.
  Meanwhile, <a href="https://www.chiaexplorer.com/charts/transaction-volume">Chia Explorer shows a hard-to-read graph</a>
  which I'm eyeballing to get a rough average of 3,000 transactions per hour.
  6 Megawatts divided by 3k per hour gives an energy use per transaction
  of 2kW.</li>
<li>For Nano, I'm using commonly-cited figures in
  <a href="https://www.reddit.com/r/nanocurrency/comments/7ucw1a/the_entire_nano_network_is_so_efficient_that/">Reddit posts</a>
  (yuk), but the math seems to hold up as far as I can see.</li>
<li>For equivalent household energy uses, I used
  <a href="https://electricityplans.com/kwh-kilowatt-hour-can-power/">this</a> and <a href="http://www.wrecc.com/what-uses-watts-in-your-home/">this</a>.</li>
</ul>
<p>Notable standout here is NANO, which actually has an order of magnitude <em>lower</em>
energy use than Visa. There are other low-energy use cryptocurrencies in this
bracket, such as IOTA and HBAR. They face some criticism from Bitcoin
maximalists that reducing energy use undermines the value proposition, or
reduces security. But to my layman's ears, these arguments don't hold water.
Certainly communities like NANO seem much more open to honest discussion of
NANO's shortfalls than most crypto communities, which is a healthy sign, and it
makes me inclined to trust their counter-assertions that NANO's security is
really OK.</p>
<p>Something's not quite right here though. The Chia whitepaper estimates 10,000
times better energy efficiency than Bitcoin, by my figures above only show
1,000.</p>
<p>They probably know how to calculate this better than I do. So perhaps my figure
for Chia is high? I understand the value per transaction will come down as
Chia starts handling more transactions, which seems reasonable. Perhaps the
white paper refers to that future hypothetical efficiency?</p>
<p>On the other hand, many of the other cryptocurrencies listed above will
become more efficient in the future too (e.g. Bitcoin is in the process
of deploying its lightning network, which will reduce per transaction
energy use.)  So I think it's fair to leave the above figures as they are,
as a snapshot of current reality.</p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/download-audio-from-youtube/" class="u-url">Download audio from YouTube</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/download-audio-from-youtube/" rel="bookmark">
            <time class="published dt-published" datetime="2021-05-13T11:18:33-05:00" itemprop="datePublished" title="2021-05-13 11:18">2021-05-13 11:18</time></a>
            </p>
                <p class="commentline">            <a href="posts/download-audio-from-youtube/#disqus_thread" data-disqus-identifier="cache/posts/download-audio-from-youtube.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>Install ffmpeg:</p>
<pre class="code literal-block"><span></span><code>sudo apt install ffmpeg
</code></pre>

<p>Install <code>youtube-dl</code>, a tool to download YouTube videos. Using <code>apt</code> installs a
version that's too old to work, so:</p>
<pre class="code literal-block"><span></span><code>pip install --user pipsi
pipsi install youtube-dl
</code></pre>

<h3>The best way</h3>
<p>Tell youtube-dl to download the audio:</p>
<pre class="code literal-block"><span></span><code>youtube-dl -x --audio-format<span class="o">=</span>best URL
</code></pre>

<p>Where
* <code>-x</code> downloads just the audio part.
* Audio format defaults to 'best', but can be "aac", "flac", "mp3", "m4a",
  "opus", "vorbis", or "wav".</p>
<p>As I understand it, it downloads whatever audio format YouTube provides,
then converts it locally using ffmpeg, so you're not really getting the
benefit of those lossless formats - mp3 is fine for
<a href="https://www.youtube.com/watch?v=VSJWvzLuGz8">my</a>
<a href="https://www.youtube.com/watch?v=nyU1Pt2IXyE">needs</a>.</p>
<h3>My previous inferior way</h3>
<p>This method is worse because it downloads the whole video file before
extracting audio locally, and the download gets throttled by YouTube in some
way, which of late is very slow indeed.</p>
<p>Download the video from YouTube:</p>
<pre class="code literal-block"><span></span><code>youtube-dl URL
</code></pre>

<p>This results in a webm file. I have no idea what that is, and am relieved
to discover that converting it into an mp3 requires just:</p>
<pre class="code literal-block"><span></span><code>ffmpeg -i MyVideoFile -vn MyAudioFile.mp3
</code></pre>

<p>Where <code>-vn</code> disables video in the output.</p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/112263-by-steven-king/" class="u-url">11/22/63, by Steven King</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/112263-by-steven-king/" rel="bookmark">
            <time class="published dt-published" datetime="2021-05-11T13:23:19-05:00" itemprop="datePublished" title="2021-05-11 13:23">2021-05-11 13:23</time></a>
            </p>
                <p class="commentline">            <a href="posts/112263-by-steven-king/#disqus_thread" data-disqus-identifier="cache/posts/112263-by-steven-king.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p><span style="float: left">
<img alt="Ra cover" src="files/2021/112263-cover.jpg"></span></p>
<p><em>by Steven King, 2011</em></p>
<p>Prompted by a conversation at work about favorite time travel stories,
I snagged this from the library.</p>
<p>English school teacher Jake is roped into a dying man's plot to exploit a
mechanism of travelling back to 1958, from which, with many complications, he
waits out the intervening few years in order to prevent JFK's assassination.</p>
<p>I found it a page turner, certainly. But nonetheless I was slightly
disappointed, perhaps because of my reverence for such a successful author, who
I haven't actually read since my teens. Expectations of mastery clashed with
what, for me, felt like lowest-common-denominator style.</p>
<p>King knows exactly what he intends - to use time travel as a hook on which to
hang a human tale of drama, aspiration and loss. He has no interest in my
personal predilections, such as messing with the logical conundrums of his
chosen time-travel mechanic, and he declares this straightforwardly. When the
main character asks "But what if I end up killing my own Grandfather?", his
mentor shoots him a look of incomprehension, replying "Why in hell would you
want to do a thing like that?" Subject closed, and fair enough.</p>
<p><br style="clear: left"></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/there-is-no-antimemetics-division/" class="u-url">There is no Antimemetics Division, by qntm</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/there-is-no-antimemetics-division/" rel="bookmark">
            <time class="published dt-published" datetime="2021-05-10T13:50:52-05:00" itemprop="datePublished" title="2021-05-10 13:50">2021-05-10 13:50</time></a>
            </p>
                <p class="commentline">            <a href="posts/there-is-no-antimemetics-division/#disqus_thread" data-disqus-identifier="cache/posts/there-is-no-antimemetics-division.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p><span style="float: left; padding-bottom: 1em">
<img alt="There is No Antimemetics Division cover" src="files/2021/there-is-no-antimemetics-division-cover.jpg"></span></p>
<p><em>by qntm, 2020</em>. <img alt="spoilers" src="files/spoilers.svg"></p>
<p>I first became aware of this book when I noticed that the good folks over
at <a href="http://www.scpwiki.com/">The SCP Foundation</a> have kept themselves busy in
the years since I last looked over their peerless and endlessly enthralling
wiki of dry and tantalizing protocols with which to "Secure, Contain, and
Protect" a catalog of creepy anomalous artifacts.</p>
<p>One of the arcs to break the churning surface of that crowd-sourced
fictional milieu is that of the
<a href="http://scp-wiki.wikidot.com/antimemetics-division-hub">Antimemetics Division</a>:</p>
<p><em>"An antimeme is an idea which, by its intrinsic nature, discourages people
from spreading it. Think of ideas that you wouldn't share - passwords,
taboos, shameful secrets.</em></p>
<p><em>Anomalous antimemes are another matter entirely. How do you contain
something you can't record, or remember? How do you fight an enemy when you
can never even know you're at war?</em></p>
<p><em>Welcome to the Antimemetics Division.</em></p>
<p><em>No, this is not your first day."</em></p>
<p>Intrigued, I started clicking around, and as is the way of SCP, discovered
many hours had passed. Shortly afterwards, I realized the arc has been
collected into this book.</p>
<p>Occasional SCP entries, in the format we know and love, intertwine a short but
intense tale of memetic hazards, populated by a few of the Division's
finest - those rare individuals who can go from the standing start of a hint
that their memories can't be trusted, to a well-executed plan based upon
a stack of assumptions about what might be needed, and what might already have
been done that they can count upon, even though they no longer remember any of
it, without ever retaining any knowledge of their situation, or what they're up
against. I don't think I've ever been so impressed by the sheer depth of a
character's resourcefulness and initiative.</p>
<p>The journey does contain world-ending hellscapes, with some gore, which might
not be everyone's cup of tea. But it's short and somehow manages to stay light
in tone, so isn't emotionally arduous on that front.</p>
<p>Probably my favorite fiction of the year.</p>
<p>For those like me with an epub fetish,
you can buy <em>There is No Antimememtics Division</em> in many formats,
including Amazon links, EPUBs, or free-to-read online,
<a href="https://qntm.org/scp">at the author's site</a>.</p>
<p><br style="clear: left"></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/lena/" class="u-url">Lena</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/lena/" rel="bookmark">
            <time class="published dt-published" datetime="2021-05-09T16:25:51-05:00" itemprop="datePublished" title="2021-05-09 16:25">2021-05-09 16:25</time></a>
            </p>
                <p class="commentline">            <a href="posts/lena/#disqus_thread" data-disqus-identifier="cache/posts/lena.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p><span style="float: left">
<img alt="Lena" src="files/2021/lena.webp"></span></p>
<p>Fabulous short story, <a href="https://qntm.org/mmacevedo">Lena</a> by qntm, riffs on
<a href="http://www.scpwiki.com/">SCP</a>'s idea of a work of fiction as a wiki entry.
But this is entirely standalone, not part of the SCP universe, and more
resembles a Wikipedia entry. Seems both genuinely scary and almost inevitable.</p>
<p>The title stems from the image above, head-and-shoulders hurriedly torn from
the centerfold of a colleague's issue of Playboy in 1972, while searching for
an image to use in an image processing conference paper. From this, we can
infer the proper pronunciation is <em>Lenna</em>, as in the name of the model.</p>
<p>This image has been widely re-used in scientific journals for decades. It has
some objectively useful properties - good dynamic range, details and flat
regions, shading and texture. However, its viral popularity most probably stems
overwhelmingly from its racy nature, featuring an attractive woman, used in
male-dominated fields. This was in contrast to other common test images of
the time, derived from dull 1960s television standards work.</p>
<p>The common long term use of the image was done without the knowledge or
permission of Playboy magazine - the copyright holder - or Lena herself. Over
the years they each became aware of it, and made their peace with it. By 2019,
though, Lena stated that the image, like her, ought to be retired.</p>
<p><br style="clear: left"></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/intelligence-a-very-short-introduction/" class="u-url">Intelligence: A Very Short Introduction</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/intelligence-a-very-short-introduction/" rel="bookmark">
            <time class="published dt-published" datetime="2021-01-18T06:58:23-05:00" itemprop="datePublished" title="2021-01-18 06:58">2021-01-18 06:58</time></a>
            </p>
                <p class="commentline">            <a href="posts/intelligence-a-very-short-introduction/#disqus_thread" data-disqus-identifier="cache/posts/intelligence-a-very-short-introduction.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p><span style="float: left">
<img alt="Intelligence cover" src="files/2021/intelligence-cover.jpg"></span></p>
<p><em>by Ian J. Deary (1st Ed, 2001)</em></p>
<p>An expert's overview for the layman, describing how and why people differ in
their thinking powers, Very data driven, and by necessity, largely driven by
consideration of how to measure different aspects of intelligence, and
therefore what aspects intelligence can be teased apart into, such as working
memory, linguistic comprehension, perceptual organization, and speed of
operation.</p>
<p>Each chapter tackles a key scientific question, describing the experiments
that were done to determine the answers, showing the actual
key experimental datasets.</p>
<p>Such questions include: Is intelligence determined by genes or the environment?
The answer is 50/50, although surprisingly, little of the environmental
influence is due to the family raising the child. Also, the effect of genetics
increases with age.</p>
<p>How does a person's intelligence change as they age? Some skills show a
straight decline from age 25 to 80, such as inductive reasoning, spatial
awareness, perceptual speed and verbal memory. Other skills show a peak in
middle-age, with only a small decline at high ages, such as verbal reasoning
and numerical ability. The amount of mental decline with age is highly variable
between different people. Those whose abilities decline the least have no
cardio issues or chronic disease, have high social class, live in complex and
stimulating environments, and are generally satisfied with life, and unstressed
through middle age.</p>
<p>Does intelligence, especially as measured using existing tests, correlate with
life outoutcomes such doing well at a job? Depending on the job, yes, a great
deal. What sort of tests are good for predicting who will do well? Work
samples, structured interviews, and psychometric tests all give slightly over
0.5 correlations. Which isn't stellar, but it's the best we've got. At the
other end of the scale, graphology (handwriting) and age rankings had no
correlation.</p>
<p>It's a short book, with a lively style, densely packed with important
conclusions, and descriptions of how the field has arrived at them. Edifying.</p>
<p><br style="clear: left"></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/git-annotated-tags/" class="u-url">Git Annotated Tags</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/git-annotated-tags/" rel="bookmark">
            <time class="published dt-published" datetime="2020-10-17T00:40:24-05:00" itemprop="datePublished" title="2020-10-17 00:40">2020-10-17 00:40</time></a>
            </p>
                <p class="commentline">            <a href="posts/git-annotated-tags/#disqus_thread" data-disqus-identifier="cache/posts/git-annotated-tags.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>I've previously only ever used git's regular <em>lightweight</em> tags, created with
<code>git tag TAGNAME</code>.</p>
<p>Today I learned about <em>annotated</em> tags, created with <code>git tag -a -m "MESSAGE"
TAGNAME</code>. If you don't specify <code>-m MESSAGE</code>, git annoyingly prompts you for
one, but it will accept <code>-m ""</code>.</p>
<p>Annotated tags store the creator, created timestamp, and the message. This
might occasionally be useful for understanding what happened. A release tagged
this way shows us who created the release, and when, which might differ from
when the commit was created.</p>
<p>But more importantly is the different handling of lightweight versus
annotated tags when pushing to the server.</p>
<p>Habitually, I've been using <code>git push --tags</code>. But this is slightly broken, in
that it pushes <em>all</em> tags. Some tags might be intended as my private local
development state. Some of them might be unreachable in the origin repo.</p>
<p>To address these issues, newer versions of <code>git push</code> introduced
<code>--follow-tags</code>, which only pushes annotated tags which are on ancestors
of the commit being pushed, so that no unreachable tags are created on origin.</p>
<p>Hence, a better workflow is:</p>
<ol>
<li>Use regular lightweight tags for local state.
   Keep them private by never using <code>git push --tags</code>.</li>
<li>Use annotated tags to share state with other developers.</li>
<li>To share annotated tags, either push them directly, with <code>git push TAGNAME</code>,
   or use <code>git push --follow-tags</code>.</li>
</ol>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/per-mille/" class="u-url">‰ is per mille</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/per-mille/" rel="bookmark">
            <time class="published dt-published" datetime="2020-10-17T00:25:45-05:00" itemprop="datePublished" title="2020-10-17 00:25">2020-10-17 00:25</time></a>
            </p>
                <p class="commentline">            <a href="posts/per-mille/#disqus_thread" data-disqus-identifier="cache/posts/per-mille.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>‰ or <em>'per mille'</em> means parts per thousand.</p>
<p>I wasn't aware of it until today when I idly Googled "permil", my imagined
variation on "percent", to find that this is one of the many spellings of
a real thing. Rarely used in English, but more common in other European
languages.</p>
<p>Now that I see the symbol, I remember seeing it as a child, on an old
typewriter that my Grandfather used. What's old is new.</p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/the-structure-of-scientific-revolutions/" class="u-url">The Structure of Scientific Revolutions</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/the-structure-of-scientific-revolutions/" rel="bookmark">
            <time class="published dt-published" datetime="2020-06-14T09:02:22-05:00" itemprop="datePublished" title="2020-06-14 09:02">2020-06-14 09:02</time></a>
            </p>
                <p class="commentline">            <a href="posts/the-structure-of-scientific-revolutions/#disqus_thread" data-disqus-identifier="cache/posts/the-structure-of-scientific-revolutions.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>This post rescues content from a series of tweets I wrote in 2018.</p>
<hr>
<p><span style="float: left">
<img alt="The Structure of Scientific Revolutions cover" src="files/2020/the-structure-of-scientific-revolutions-cover.jpg"></span></p>
<p><em>by Thomas S. Kuhn, 1962.</em></p>
<p>I loved <em>The Structure of Scientfic Revolutions</em>.
It was recommended to me as having similar impact to undergraduate
classics like <em>Godel, Escher, Bach</em>, or <em>The Blind Watchmaker.</em> I'm going
to just summarize the content here, so: Spoilers.</p>
<p>It begins by observing that discredited scientific theories, even those
which seem laughable today, such as phrenology, or the Ptolemaic model of the
heavens, were not crackpot theories with shaky evidence. Earnest, hardworking
practitioners refined them using sensible processes, which by the 17th century
were converging on the modern scientific method.</p>
<p>This process of "normal" science excels at the incremental refinement of
established scientific theories. But in practice, is unable to perform the
revolutionary transitions required to overcome outmoded theories and replace
them with others, no matter how bizarre and wrongheaded the initial theory
looks to us now with hindsight.</p>
<p>So what is the unarticulated process that is responsible for these
transitions, i.e. how do scientific revolutions happen? We have intuitive
visions of this occurring overnight. An individual experiment yields unexpected
results, contradicting conventional theory, while irrefutably supporting an
alternate theory to take its place. But in practice, this <em>never</em> happens.</p>
<p>At first, and often for years or centuries, no discrepancy between theory and
experiment is noticed, because the prevailing theories of the time have a
massive shaping effect on what questions it is valid to ask, what experiments
are deemed useful to do.</p>
<p>For practitioners to turn their backs on an established theory in such a time
is never productive. They are shunned for turning their backs on science
itself.</p>
<p>We see this vividly today with homeopaths (my own example, not the book's).
Often, and incorrectly, homeopathy is mocked because the theories sound
ridiculous to one steeped in a conventional understanding of chemistry.
People will jeer at how total dilution can 'obviously' have no effect,
or at the idea of water exhibiting some sort of 'memory'. But such jeering is
as scientifically illiterate as the quacks it contends with. The argument from
personal incredulity has no place in determining scientific truth. No newer
theory makes sense in the light of the more limited, and often contradictory,
paradigm that it eventually replaces. The only useful criteria is to try it
out. <em>Does it actually work?</em> This is the axis upon which homeopathy should be
judged. (and upon which it has decisively been found wanting.)</p>
<p>All contradictions to conventional science suffer a similar ignominious
treatment, regardless of how right they might later turn out to be. Before any
revolution of theory can overturn conventional understanding, the stage
must be set, the community prepared.</p>
<p>The process begins as the incremental advances of "normal" science gradually
increase the scope and precision of accepted theories. Until this point,
measurements in which experiment does not conform to theory are either ignored
as erroneous artifacts, or are dismissed as indicative of some separate,
unknown phenomena. They are never interpreted to mean prevailing theory is
wrong.</p>
<p>However the growing scope &amp; precision of theory and measurement gradually
uncovers more of these discrepancies, or reveals them in finer detail.
Eventually they become too prominent to ignore, and a kind of phase transition
occurs.</p>
<p>Eventually, the discrepancies become so prominent and concerning that they
are judged to be a valid area of study in themselves, rather than just annoying
aberrations. Leading practitioners devote themselves to the task. Foundations
of the specialisation that were once accepted without question now come under
scrutiny.</p>
<p>To partially explain the discrepancies, people introduce many incompatible
variations on current theories. The once unified field divides into cliques,
supporting different theoretical variations. The field, formerly a united mass,
calves into fragments.</p>
<p>If one of these variations on existing theory manages to explain all
observations, then this gradually gains mindshare, until the whole community
has migrated to this new, incrementally improved theory.</p>
<p>However, in cases where a truly revolutionary change is required, such
incrementalism is insufficient, and none of the theoretical variations are
fully successful in explaining all observations. The factions' differing
underlying assumptions give them no common ground upon which to arbitrate their
differences, so their debates are irreconcilable. The fragments are melting,
into a churning liquid of disagreement.</p>
<p>This state is notably similar to the state of a nascent field before any
established scientific theories have taken hold.</p>
<p>All is chaos, with different groups supporting different ideas, agreeing on
nothing. The field is in turmoil, its practitioners in genuine emotional
distress. Their personal identities are undermined. What does it mean to be a
practitioner when nobody can agree on what the field even is? Is what we do
even <em>science</em> at all? A crisis has arrived. We are at boiling point.</p>
<p>Kuhn compares this to individuals in psychological experiments, given cunningly
contradictory sensual stimuli. At first they don't notice anything wrong about
a brief glimpse of a playing card showing a red king of clubs. As the length of
their glimpse expands, and the stimulation becomes more intrusive, the subject
starts to hesitate, and stumble on words. Suddenly it impinges on their
consciousness, and they cry out, distressed, uncertain of even basic facts. "My
God! What did I see? Are clubs always red? What's happening here?"</p>
<p>Kuhn also compares scientific revolutions to their social and political
counterparts, in a chillingly familiar passage:</p>
<blockquote>
<p>"Political revolutions aim to change political institutions in ways that
those institutions themselves prohibit. Their success therefore necessitates
the partial relinquishment of one set of institutions in favor of another, and
in the interim society is not fully governed by institutions at all.</p>
<p>Initially it is crisis alone that attenuates the role of political
institutions [...] In increasing numbers, individuals become increasingly
estranged from political life, and behave more &amp; more eccentrically within
it.</p>
<p>Then, as the crisis deepens, many individuals commit themselves to [...] some
new institutional framework. At that point, society is divided into competing
camps or parties, one seeking to defend the old institutional constellation,
others seeking to institute some new one.</p>
<p>Once that polarization has occurred, <em>political recourse fails</em>. Because
they differ about the political matrix within which political change is to be
achieved and evaluated, and acknowledge no common supra-institutional framework
for adjudication of differences, the parties to a revolutionary conflict must
finally resort to the techniques of mass persuasion, often including force."</p>
</blockquote>
<p>At any point, the <em>boldest</em> practitioners, often those with least invested in
the previous status quo, such as the relatively young, or those entering from
adjacent fields, will introduce strikingly different sets of theories. But only
now that the stage is set, amongst such distressing chaos, is the community
ready to entertain truly revolutionary ideas.</p>
<p>Occasionally, one of these new ideas will succeed in explaining all the
observations, but in order to do so, it requires incommensurable changes in the
underlying philosophy of the field, from the axiomatic definitions, to the set
of questions that are valid to ask. One can no longer ask, of a spherical
Earth, "What happens if you fall off?"</p>
<p>Notably, many revolutionary changes are not an unalloyed good. Gains in
explicative power in one area are often balanced by losses elsewhere.</p>
<p>As in evolution, the new theory is not necessarily more <em>correct</em>, so much as
it is a better fit for the current circumstances, i.e. providing greater
predictive power in an area that is currently pertinent. Maybe scientific
progress is more obviously useful to society in that area, or instruments are
more capable of making measurements in that area. The two often coincide,
since influences are are unable to detect or manipulate are also unlikely to
be of much direct use to society. So as the social and technological context
evolves, so does the relative fitness of potential competing paradigms.</p>
<p>Nobody understands this trade-off more deeply than the field's most
invested practitioners, who feel the losses of losing the old model most
keenly, and therefore may resist the new paradigm for the remainder of their
careers. The new paradigm will not achieve total dominance until the field is
populated by a whole new generation.</p>
<p>I am reminded of the dark priesthood of command-line programmers, although
I note with no little joy that our merry band includes some of the best and
brightest of the next generation (as judged by my own paradigm's criteria.)</p>
<p><br style="clear: left"></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/format-python-snippets-with-black/" class="u-url">Format Python Snippets with Black.</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Jonathan Hartley
            </span></p>
            <p class="dateline">
            <a href="posts/format-python-snippets-with-black/" rel="bookmark">
            <time class="published dt-published" datetime="2020-06-09T19:36:58Z" itemprop="datePublished" title="2020-06-09 19:36">2020-06-09 19:36</time></a>
            </p>
                <p class="commentline">            <a href="posts/format-python-snippets-with-black/#disqus_thread" data-disqus-identifier="cache/posts/format-python-snippets-with-black.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>Black, the opinionated Python code formatter, can easily be invoked from your
editor to reformat a whole file. For example, from Vim:</p>
<pre class="code literal-block"><span></span><code><span class="c">" Black(Python) format the whole file</span>
<span class="nb">nnoremap</span> <span class="p">&lt;</span>leader<span class="p">&gt;</span><span class="k">b</span> :<span class="m">1</span><span class="p">,</span>$<span class="p">!</span>black <span class="p">-</span><span class="k">q</span> <span class="p">-&lt;</span>CR<span class="p">&gt;</span>
</code></pre>

<p>But often you'd like to reformat just a section of the file, while leaving
everything else intact. In principle, it's easy to tell Vim to just send the
current visual selection:</p>
<pre class="code literal-block"><span></span><code><span class="c">" Black(Python) format the visual selection</span>
xnoremap <span class="p">&lt;</span>Leader<span class="p">&gt;</span><span class="k">b</span> :<span class="p">!</span>black <span class="p">-</span><span class="k">q</span> <span class="p">-&lt;</span>CR<span class="p">&gt;</span>
</code></pre>

<p>(Note that both the above Vim configuration snippets map the same key
sequence -- leader (commonly comma) followed by lower case b. These can be
defined simultaneously, because the second one uses 'xnoremap', meaning it is
used only while a visual selection exists, while the first uses 'nnoremap', so
is used all other times.)</p>
<p>But if the given code starts with an indent on the first line, for example if
it comes from lines in the middle of a function, then this won't work. Black
parses the given code into a Python abstract syntax tree (AST), and a leading
indent is a syntax error - it's just not valid Python.</p>
<p>I filed a hopeful <a href="https://github.com/psf/black/issues/1352">issue with Black</a>,
suggesting they could handle this case, but it was a long shot and hasn't
gained much enthusiasm.</p>
<p>So, I present a tiny Python3 wrapper, <em>enblacken</em>, which:</p>
<ul>
<li>Unindents the given code such that the first line has no indent.</li>
<li>Passes the result to Black.</li>
<li>Reindents Black's output, by the same amount as the original unindent.</li>
</ul>
<p>See <a href="https://github.com/tartley/dotfiles/blob/master/other/bin/enblacken">enblacken on github</a>.</p>
</div>
    </div>
    </article>
</div>
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-25.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-23.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="tartley";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer"></footer>
</div>
</div>

            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
